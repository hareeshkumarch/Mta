{"ast":null,"code":"import _objectSpread from\"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from\"react\";import\"@/App.css\";import axios from\"axios\";import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer,Cell}from'recharts';import{Table,TableBody,TableCell,TableHead,TableHeader,TableRow}from\"@/components/ui/table\";import{Button}from\"@/components/ui/button\";import{Card,CardContent,CardHeader,CardTitle}from\"@/components/ui/card\";import{Dialog,DialogContent,DialogHeader,DialogTitle}from\"@/components/ui/dialog\";import{Tabs,TabsContent,TabsList,TabsTrigger}from\"@/components/ui/tabs\";import{Badge}from\"@/components/ui/badge\";import{Input}from\"@/components/ui/input\";import{Select,SelectContent,SelectItem,SelectTrigger,SelectValue}from\"@/components/ui/select\";import{TrendingUp,TrendingDown,DollarSign,Users,Clock,Target,Info,ChevronRight,Search,Filter}from\"lucide-react\";import{Tooltip as TooltipUI,TooltipContent,TooltipProvider,TooltipTrigger}from\"@/components/ui/tooltip\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");const CHANNEL_COLORS={\"Google Ads\":\"#4285F4\",\"Facebook Ads\":\"#1877F2\",\"Instagram\":\"#E4405F\",\"LinkedIn\":\"#0A66C2\",\"Email Campaign\":\"#10B981\",\"Organic Search\":\"#8B5CF6\",\"Direct Traffic\":\"#6B7280\",\"YouTube\":\"#FF0000\",\"Blog Content\":\"#F59E0B\",\"Webinar\":\"#EC4899\",\"Referral\":\"#14B8A6\"};const MODEL_INFO={\"first-touch\":{title:\"First-Touch Attribution\",description:\"Gives 100% credit to the first touchpoint in the customer journey.\",useCase:\"Best for evaluating awareness campaigns and top-of-funnel channels.\",pros:\"Clear view of customer acquisition sources.\",cons:\"Ignores all nurturing touchpoints that helped close the sale.\"},\"last-touch\":{title:\"Last-Touch Attribution\",description:\"Gives 100% credit to the last touchpoint before conversion.\",useCase:\"Best for evaluating closing channels and direct conversion drivers.\",pros:\"Shows which channels directly drive conversions.\",cons:\"Completely ignores the customer journey and awareness channels.\"},\"last-non-direct\":{title:\"Last Non-Direct Click\",description:\"Gives 100% credit to the last paid/non-direct touchpoint.\",useCase:\"Best for understanding which marketing channels drive conversions (excluding direct traffic).\",pros:\"Removes bias toward direct traffic.\",cons:\"Still ignores the full customer journey.\"},\"linear\":{title:\"Linear Attribution\",description:\"Distributes credit equally across all touchpoints.\",useCase:\"Best for understanding overall channel contribution throughout the journey.\",pros:\"Fair distribution, acknowledges all touchpoints.\",cons:\"Doesn't account for varying importance of different touchpoints.\"},\"time-decay\":{title:\"Time Decay Attribution\",description:\"Gives exponentially more credit to recent touchpoints (7-day half-life).\",useCase:\"Best for businesses with short sales cycles where recent interactions matter most.\",pros:\"Prioritizes touchpoints closer to conversion.\",cons:\"May undervalue early awareness touchpoints.\"},\"u-shaped\":{title:\"U-Shaped (Position-Based)\",description:\"40% to first touch, 40% to last touch, 20% split among middle.\",useCase:\"Best for B2B or high-consideration purchases where awareness and closing matter most.\",pros:\"Balances first and last touch importance.\",cons:\"Middle touchpoints get minimal credit.\"},\"w-shaped\":{title:\"W-Shaped Attribution\",description:\"30% first, 30% middle key touchpoint, 30% last, 10% to others.\",useCase:\"Best for complex sales with clear milestone (e.g., demo, trial signup).\",pros:\"Recognizes key middle milestone in journey.\",cons:\"Requires identifying the key middle touchpoint.\"}};function App(){var _MODEL_INFO$selectedM,_MODEL_INFO$selectedM2,_MODEL_INFO$selectedM3,_MODEL_INFO$selectedM4,_MODEL_INFO$selectedM5,_MODEL_INFO$selectedM6;const[stats,setStats]=useState(null);const[selectedModel,setSelectedModel]=useState(\"first-touch\");const[attributionData,setAttributionData]=useState([]);const[comparisonData,setComparisonData]=useState([]);const[journeys,setJourneys]=useState([]);const[selectedJourney,setSelectedJourney]=useState(null);const[journeyDetailModal,setJourneyDetailModal]=useState(false);const[loading,setLoading]=useState(true);const[searchTerm,setSearchTerm]=useState(\"\");const[filterTouchpoints,setFilterTouchpoints]=useState(\"all\");const[dataGenerated,setDataGenerated]=useState(false);useEffect(()=>{initializeData();},[]);useEffect(()=>{if(dataGenerated){fetchAttributionData(selectedModel);}},[selectedModel,dataGenerated]);const initializeData=async()=>{try{setLoading(true);// Check if data exists\nconst statsResponse=await axios.get(\"\".concat(API,\"/stats\"));if(statsResponse.data.total_conversions===0){// Generate sample data\nawait axios.post(\"\".concat(API,\"/generate-data\"));}// Fetch all data\nawait Promise.all([fetchStats(),fetchAttributionData(selectedModel),fetchComparisonData(),fetchJourneys()]);setDataGenerated(true);setLoading(false);}catch(error){console.error(\"Error initializing data:\",error);setLoading(false);}};const fetchStats=async()=>{try{const response=await axios.get(\"\".concat(API,\"/stats\"));setStats(response.data);}catch(error){console.error(\"Error fetching stats:\",error);}};const fetchAttributionData=async model=>{try{const response=await axios.get(\"\".concat(API,\"/attribution/\").concat(model));setAttributionData(response.data);}catch(error){console.error(\"Error fetching attribution:\",error);}};const fetchComparisonData=async()=>{try{const response=await axios.get(\"\".concat(API,\"/attribution/compare/all\"));setComparisonData(response.data);}catch(error){console.error(\"Error fetching comparison:\",error);}};const fetchJourneys=async()=>{try{const response=await axios.get(\"\".concat(API,\"/journeys\"));setJourneys(response.data);}catch(error){console.error(\"Error fetching journeys:\",error);}};const openJourneyDetail=async journeyId=>{try{const response=await axios.get(\"\".concat(API,\"/journeys/\").concat(journeyId));setSelectedJourney(response.data);setJourneyDetailModal(true);}catch(error){console.error(\"Error fetching journey detail:\",error);}};const getROASColor=roas=>{if(roas>=3.0)return\"text-green-600\";if(roas>=1.5)return\"text-yellow-600\";return\"text-red-600\";};const getEfficiencyStars=roas=>{if(roas>=5.0)return\"★★★★★\";if(roas>=3.0)return\"★★★★☆\";if(roas>=2.0)return\"★★★☆☆\";if(roas>=1.0)return\"★★☆☆☆\";return\"★☆☆☆☆\";};const formatCurrency=value=>{return new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR',maximumFractionDigits:0}).format(value);};const filteredJourneys=journeys.filter(journey=>{const matchesSearch=journey.customer_name.toLowerCase().includes(searchTerm.toLowerCase())||journey.journey_id.toLowerCase().includes(searchTerm.toLowerCase());const matchesFilter=filterTouchpoints===\"all\"||filterTouchpoints===\"2-3\"&&journey.touchpoint_count>=2&&journey.touchpoint_count<=3||filterTouchpoints===\"4-5\"&&journey.touchpoint_count>=4&&journey.touchpoint_count<=5||filterTouchpoints===\"6+\"&&journey.touchpoint_count>=6;return matchesSearch&&matchesFilter;});if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-semibold text-slate-700\",children:\"Loading AttributionIQ...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 mt-2\",children:\"Generating sample data and analytics\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-slate-900 text-white shadow-xl\",\"data-testid\":\"main-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-6 py-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-600 p-2 rounded-lg\",children:/*#__PURE__*/_jsx(Target,{className:\"h-8 w-8\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold\",\"data-testid\":\"app-title\",children:\"AttributionIQ\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-300\",children:\"Marketing Attribution Analytics Platform\"})]})]}),/*#__PURE__*/_jsx(Badge,{variant:\"secondary\",className:\"bg-purple-100 text-purple-800 px-3 py-1\",\"data-testid\":\"demo-badge\",children:\"Demo Mode\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-6 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8\",\"data-testid\":\"kpi-section\",children:[/*#__PURE__*/_jsxs(Card,{className:\"hover:shadow-lg transition-shadow duration-300\",\"data-testid\":\"kpi-conversions\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-3\",children:/*#__PURE__*/_jsxs(CardTitle,{className:\"text-sm font-medium text-slate-600 flex items-center\",children:[/*#__PURE__*/_jsx(Users,{className:\"h-4 w-4 mr-2 text-blue-600\"}),\"Total Conversions\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-slate-900\",children:(stats===null||stats===void 0?void 0:stats.total_conversions)||0})})]}),/*#__PURE__*/_jsxs(Card,{className:\"hover:shadow-lg transition-shadow duration-300\",\"data-testid\":\"kpi-revenue\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-3\",children:/*#__PURE__*/_jsxs(CardTitle,{className:\"text-sm font-medium text-slate-600 flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-4 w-4 mr-2 text-green-600\"}),\"Total Revenue\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-slate-900\",children:formatCurrency((stats===null||stats===void 0?void 0:stats.total_revenue)||0)})})]}),/*#__PURE__*/_jsxs(Card,{className:\"hover:shadow-lg transition-shadow duration-300\",\"data-testid\":\"kpi-touchpoints\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-3\",children:/*#__PURE__*/_jsxs(CardTitle,{className:\"text-sm font-medium text-slate-600 flex items-center\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 mr-2 text-purple-600\"}),\"Avg Touchpoints\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-slate-900\",children:(stats===null||stats===void 0?void 0:stats.avg_touchpoints)||0})})]}),/*#__PURE__*/_jsxs(Card,{className:\"hover:shadow-lg transition-shadow duration-300\",\"data-testid\":\"kpi-time\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-3\",children:/*#__PURE__*/_jsxs(CardTitle,{className:\"text-sm font-medium text-slate-600 flex items-center\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 mr-2 text-orange-600\"}),\"Avg Time to Convert\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-slate-900\",children:[(stats===null||stats===void 0?void 0:stats.avg_time_to_conversion)||0,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-lg text-slate-500\",children:\"days\"})]})})]}),/*#__PURE__*/_jsxs(Card,{className:\"hover:shadow-lg transition-shadow duration-300\",\"data-testid\":\"kpi-spend\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-3\",children:/*#__PURE__*/_jsxs(CardTitle,{className:\"text-sm font-medium text-slate-600 flex items-center\",children:[/*#__PURE__*/_jsx(TrendingDown,{className:\"h-4 w-4 mr-2 text-red-600\"}),\"Marketing Spend\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold text-slate-900\",children:formatCurrency((stats===null||stats===void 0?void 0:stats.total_marketing_spend)||0)})})]}),/*#__PURE__*/_jsxs(Card,{className:\"hover:shadow-lg transition-shadow duration-300\",\"data-testid\":\"kpi-roas\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-3\",children:/*#__PURE__*/_jsxs(CardTitle,{className:\"text-sm font-medium text-slate-600 flex items-center\",children:[/*#__PURE__*/_jsx(Target,{className:\"h-4 w-4 mr-2 text-indigo-600\"}),\"Overall ROAS\"]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl font-bold text-slate-900\",children:[(stats===null||stats===void 0?void 0:stats.overall_roas)||0,\"x\"]})})]})]}),/*#__PURE__*/_jsxs(Card,{className:\"mb-8\",\"data-testid\":\"model-selector-card\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Attribution Model\"}),/*#__PURE__*/_jsx(TooltipProvider,{children:/*#__PURE__*/_jsxs(TooltipUI,{children:[/*#__PURE__*/_jsx(TooltipTrigger,{asChild:true,children:/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"sm\",children:/*#__PURE__*/_jsx(Info,{className:\"h-4 w-4\"})})}),/*#__PURE__*/_jsx(TooltipContent,{className:\"max-w-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:(_MODEL_INFO$selectedM=MODEL_INFO[selectedModel])===null||_MODEL_INFO$selectedM===void 0?void 0:_MODEL_INFO$selectedM.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:(_MODEL_INFO$selectedM2=MODEL_INFO[selectedModel])===null||_MODEL_INFO$selectedM2===void 0?void 0:_MODEL_INFO$selectedM2.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Use Case:\"}),\" \",(_MODEL_INFO$selectedM3=MODEL_INFO[selectedModel])===null||_MODEL_INFO$selectedM3===void 0?void 0:_MODEL_INFO$selectedM3.useCase]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Pros:\"}),\" \",(_MODEL_INFO$selectedM4=MODEL_INFO[selectedModel])===null||_MODEL_INFO$selectedM4===void 0?void 0:_MODEL_INFO$selectedM4.pros]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-red-600\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cons:\"}),\" \",(_MODEL_INFO$selectedM5=MODEL_INFO[selectedModel])===null||_MODEL_INFO$selectedM5===void 0?void 0:_MODEL_INFO$selectedM5.cons]})]})})]})})]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-3\",\"data-testid\":\"model-buttons\",children:[{id:\"first-touch\",label:\"First-Touch\"},{id:\"last-touch\",label:\"Last-Touch\"},{id:\"last-non-direct\",label:\"Last Non-Direct\"},{id:\"linear\",label:\"Linear\"},{id:\"time-decay\",label:\"Time Decay\"},{id:\"u-shaped\",label:\"U-Shaped\"},{id:\"w-shaped\",label:\"W-Shaped\"}].map(model=>/*#__PURE__*/_jsx(Button,{\"data-testid\":\"model-button-\".concat(model.id),variant:selectedModel===model.id?\"default\":\"outline\",onClick:()=>setSelectedModel(model.id),className:selectedModel===model.id?\"bg-purple-600 hover:bg-purple-700\":\"\",children:model.label},model.id))})})]}),/*#__PURE__*/_jsxs(Card,{className:\"mb-8\",\"data-testid\":\"channel-performance-table\",children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsxs(CardTitle,{children:[\"Channel Performance - \",(_MODEL_INFO$selectedM6=MODEL_INFO[selectedModel])===null||_MODEL_INFO$selectedM6===void 0?void 0:_MODEL_INFO$selectedM6.title]})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHeader,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableHead,{children:\"Channel\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Attributed Revenue\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Attribution %\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Touchpoints\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Cost\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"ROAS\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Conversions\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Avg Position\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Efficiency\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:attributionData.map((item,index)=>/*#__PURE__*/_jsxs(TableRow,{\"data-testid\":\"channel-row-\".concat(item.channel.toLowerCase().replace(/\\s+/g,'-')),children:[/*#__PURE__*/_jsx(TableCell,{className:\"font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full\",style:{backgroundColor:CHANNEL_COLORS[item.channel]}}),/*#__PURE__*/_jsx(\"span\",{children:item.channel})]})}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right font-semibold\",children:formatCurrency(item.attributed_revenue)}),/*#__PURE__*/_jsxs(TableCell,{className:\"text-right\",children:[item.attribution_percentage,\"%\"]}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right\",children:item.touchpoint_count}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right\",children:formatCurrency(item.cost)}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right font-semibold \".concat(getROASColor(item.roas)),children:item.roas>0?\"\".concat(item.roas,\"x\"):'-'}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right\",children:item.conversions_influenced}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right\",children:item.avg_position}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right text-yellow-500\",children:getEfficiencyStars(item.roas)})]},index))})]})})})]}),/*#__PURE__*/_jsxs(Card,{className:\"mb-8\",\"data-testid\":\"comparison-chart-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Attribution Model Comparison\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:\"Compare how different models attribute revenue across channels\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:500,children:/*#__PURE__*/_jsxs(BarChart,{data:comparisonData.map(model=>_objectSpread({name:model.model_name},model.channels.reduce((acc,channel)=>{acc[channel.channel]=channel.attributed_revenue;return acc;},{}))),margin:{top:20,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",angle:-15,textAnchor:\"end\",height:80}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>formatCurrency(value),contentStyle:{backgroundColor:'rgba(255, 255, 255, 0.95)',borderRadius:'8px'}}),/*#__PURE__*/_jsx(Legend,{}),Object.keys(CHANNEL_COLORS).map(channel=>/*#__PURE__*/_jsx(Bar,{dataKey:channel,stackId:\"a\",fill:CHANNEL_COLORS[channel]},channel))]})})})]}),/*#__PURE__*/_jsxs(Card,{\"data-testid\":\"journey-explorer-card\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Customer Journey Explorer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row gap-4 mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400\"}),/*#__PURE__*/_jsx(Input,{\"data-testid\":\"journey-search-input\",placeholder:\"Search by name or journey ID...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:\"pl-10\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full sm:w-48\",children:/*#__PURE__*/_jsxs(Select,{value:filterTouchpoints,onValueChange:setFilterTouchpoints,children:[/*#__PURE__*/_jsxs(SelectTrigger,{\"data-testid\":\"journey-filter-select\",children:[/*#__PURE__*/_jsx(Filter,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsx(SelectValue,{})]}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"all\",children:\"All Touchpoints\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"2-3\",children:\"2-3 Touchpoints\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"4-5\",children:\"4-5 Touchpoints\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"6+\",children:\"6+ Touchpoints\"})]})]})})]})]}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHeader,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableHead,{children:\"Journey ID\"}),/*#__PURE__*/_jsx(TableHead,{children:\"Customer Name\"}),/*#__PURE__*/_jsx(TableHead,{children:\"Journey Path\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Touchpoints\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Days to Convert\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Conversion Value\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:filteredJourneys.slice(0,20).map(journey=>/*#__PURE__*/_jsxs(TableRow,{\"data-testid\":\"journey-row-\".concat(journey.journey_id),children:[/*#__PURE__*/_jsx(TableCell,{className:\"font-medium\",children:journey.journey_id}),/*#__PURE__*/_jsx(TableCell,{children:journey.customer_name}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[journey.touchpoints.slice(0,4).map((tp,idx)=>/*#__PURE__*/_jsx(Badge,{variant:\"outline\",className:\"text-xs\",style:{borderColor:CHANNEL_COLORS[tp.channel],color:CHANNEL_COLORS[tp.channel]},children:tp.channel.split(' ')[0]},idx)),journey.touchpoints.length>4&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-slate-500\",children:[\"+\",journey.touchpoints.length-4]})]})}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right\",children:journey.touchpoint_count}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right\",children:journey.time_to_conversion}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right font-semibold\",children:formatCurrency(journey.conversion_value)}),/*#__PURE__*/_jsx(TableCell,{className:\"text-right\",children:/*#__PURE__*/_jsxs(Button,{\"data-testid\":\"view-journey-\".concat(journey.journey_id),variant:\"ghost\",size:\"sm\",onClick:()=>openJourneyDetail(journey.journey_id),children:[\"View \",/*#__PURE__*/_jsx(ChevronRight,{className:\"h-4 w-4 ml-1\"})]})})]},journey.journey_id))})]})}),filteredJourneys.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-slate-500\",children:\"No journeys found matching your filters.\"})]})]})]}),/*#__PURE__*/_jsx(Dialog,{open:journeyDetailModal,onOpenChange:setJourneyDetailModal,children:/*#__PURE__*/_jsx(DialogContent,{className:\"max-w-4xl max-h-[80vh] overflow-y-auto\",\"data-testid\":\"journey-detail-modal\",children:selectedJourney&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsxs(DialogTitle,{children:[\"Journey Details - \",selectedJourney.journey_id]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:selectedJourney.customer_name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:\"Conversion Value\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-green-600\",children:formatCurrency(selectedJourney.conversion_value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:\"Touchpoints\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:selectedJourney.touchpoint_count})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:\"Time to Convert\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold\",children:[selectedJourney.time_to_conversion,\" days\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-4\",children:\"Journey Timeline\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:selectedJourney.touchpoints.map((tp,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold\",style:{backgroundColor:CHANNEL_COLORS[tp.channel]},children:tp.sequence}),index<selectedJourney.touchpoints.length-1&&/*#__PURE__*/_jsx(\"div\",{className:\"w-0.5 h-12 bg-slate-300 my-1\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 pb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:tp.channel}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:tp.interaction_type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",children:tp.days_before_conversion===0?'Conversion':\"\".concat(tp.days_before_conversion,\" days before\")}),tp.cost>0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500\",children:formatCurrency(tp.cost)})]})]})})]},index))})]})]})]})})})]});}export default App;","map":{"version":3,"names":["useEffect","useState","axios","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","Cell","Table","TableBody","TableCell","TableHead","TableHeader","TableRow","Button","Card","CardContent","CardHeader","CardTitle","Dialog","DialogContent","DialogHeader","DialogTitle","Tabs","TabsContent","TabsList","TabsTrigger","Badge","Input","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","TrendingUp","TrendingDown","DollarSign","Users","Clock","Target","Info","ChevronRight","Search","Filter","TooltipUI","TooltipContent","TooltipProvider","TooltipTrigger","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","CHANNEL_COLORS","MODEL_INFO","title","description","useCase","pros","cons","App","_MODEL_INFO$selectedM","_MODEL_INFO$selectedM2","_MODEL_INFO$selectedM3","_MODEL_INFO$selectedM4","_MODEL_INFO$selectedM5","_MODEL_INFO$selectedM6","stats","setStats","selectedModel","setSelectedModel","attributionData","setAttributionData","comparisonData","setComparisonData","journeys","setJourneys","selectedJourney","setSelectedJourney","journeyDetailModal","setJourneyDetailModal","loading","setLoading","searchTerm","setSearchTerm","filterTouchpoints","setFilterTouchpoints","dataGenerated","setDataGenerated","initializeData","fetchAttributionData","statsResponse","get","data","total_conversions","post","Promise","all","fetchStats","fetchComparisonData","fetchJourneys","error","console","response","model","openJourneyDetail","journeyId","getROASColor","roas","getEfficiencyStars","formatCurrency","value","Intl","NumberFormat","style","currency","maximumFractionDigits","format","filteredJourneys","filter","journey","matchesSearch","customer_name","toLowerCase","includes","journey_id","matchesFilter","touchpoint_count","className","children","variant","total_revenue","avg_touchpoints","avg_time_to_conversion","total_marketing_spend","overall_roas","asChild","size","id","label","map","onClick","item","index","channel","replace","backgroundColor","attributed_revenue","attribution_percentage","cost","conversions_influenced","avg_position","width","height","_objectSpread","name","model_name","channels","reduce","acc","margin","top","right","left","bottom","strokeDasharray","dataKey","angle","textAnchor","formatter","contentStyle","borderRadius","Object","keys","stackId","fill","placeholder","onChange","e","target","onValueChange","slice","touchpoints","tp","idx","borderColor","color","split","length","time_to_conversion","conversion_value","open","onOpenChange","sequence","interaction_type","days_before_conversion"],"sources":["/app/frontend/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"@/App.css\";\nimport axios from \"axios\";\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, Cell } from 'recharts';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { TrendingUp, TrendingDown, DollarSign, Users, Clock, Target, Info, ChevronRight, Search, Filter } from \"lucide-react\";\nimport { Tooltip as TooltipUI, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nconst CHANNEL_COLORS = {\n  \"Google Ads\": \"#4285F4\",\n  \"Facebook Ads\": \"#1877F2\",\n  \"Instagram\": \"#E4405F\",\n  \"LinkedIn\": \"#0A66C2\",\n  \"Email Campaign\": \"#10B981\",\n  \"Organic Search\": \"#8B5CF6\",\n  \"Direct Traffic\": \"#6B7280\",\n  \"YouTube\": \"#FF0000\",\n  \"Blog Content\": \"#F59E0B\",\n  \"Webinar\": \"#EC4899\",\n  \"Referral\": \"#14B8A6\"\n};\n\nconst MODEL_INFO = {\n  \"first-touch\": {\n    title: \"First-Touch Attribution\",\n    description: \"Gives 100% credit to the first touchpoint in the customer journey.\",\n    useCase: \"Best for evaluating awareness campaigns and top-of-funnel channels.\",\n    pros: \"Clear view of customer acquisition sources.\",\n    cons: \"Ignores all nurturing touchpoints that helped close the sale.\"\n  },\n  \"last-touch\": {\n    title: \"Last-Touch Attribution\",\n    description: \"Gives 100% credit to the last touchpoint before conversion.\",\n    useCase: \"Best for evaluating closing channels and direct conversion drivers.\",\n    pros: \"Shows which channels directly drive conversions.\",\n    cons: \"Completely ignores the customer journey and awareness channels.\"\n  },\n  \"last-non-direct\": {\n    title: \"Last Non-Direct Click\",\n    description: \"Gives 100% credit to the last paid/non-direct touchpoint.\",\n    useCase: \"Best for understanding which marketing channels drive conversions (excluding direct traffic).\",\n    pros: \"Removes bias toward direct traffic.\",\n    cons: \"Still ignores the full customer journey.\"\n  },\n  \"linear\": {\n    title: \"Linear Attribution\",\n    description: \"Distributes credit equally across all touchpoints.\",\n    useCase: \"Best for understanding overall channel contribution throughout the journey.\",\n    pros: \"Fair distribution, acknowledges all touchpoints.\",\n    cons: \"Doesn't account for varying importance of different touchpoints.\"\n  },\n  \"time-decay\": {\n    title: \"Time Decay Attribution\",\n    description: \"Gives exponentially more credit to recent touchpoints (7-day half-life).\",\n    useCase: \"Best for businesses with short sales cycles where recent interactions matter most.\",\n    pros: \"Prioritizes touchpoints closer to conversion.\",\n    cons: \"May undervalue early awareness touchpoints.\"\n  },\n  \"u-shaped\": {\n    title: \"U-Shaped (Position-Based)\",\n    description: \"40% to first touch, 40% to last touch, 20% split among middle.\",\n    useCase: \"Best for B2B or high-consideration purchases where awareness and closing matter most.\",\n    pros: \"Balances first and last touch importance.\",\n    cons: \"Middle touchpoints get minimal credit.\"\n  },\n  \"w-shaped\": {\n    title: \"W-Shaped Attribution\",\n    description: \"30% first, 30% middle key touchpoint, 30% last, 10% to others.\",\n    useCase: \"Best for complex sales with clear milestone (e.g., demo, trial signup).\",\n    pros: \"Recognizes key middle milestone in journey.\",\n    cons: \"Requires identifying the key middle touchpoint.\"\n  }\n};\n\nfunction App() {\n  const [stats, setStats] = useState(null);\n  const [selectedModel, setSelectedModel] = useState(\"first-touch\");\n  const [attributionData, setAttributionData] = useState([]);\n  const [comparisonData, setComparisonData] = useState([]);\n  const [journeys, setJourneys] = useState([]);\n  const [selectedJourney, setSelectedJourney] = useState(null);\n  const [journeyDetailModal, setJourneyDetailModal] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filterTouchpoints, setFilterTouchpoints] = useState(\"all\");\n  const [dataGenerated, setDataGenerated] = useState(false);\n\n  useEffect(() => {\n    initializeData();\n  }, []);\n\n  useEffect(() => {\n    if (dataGenerated) {\n      fetchAttributionData(selectedModel);\n    }\n  }, [selectedModel, dataGenerated]);\n\n  const initializeData = async () => {\n    try {\n      setLoading(true);\n      \n      // Check if data exists\n      const statsResponse = await axios.get(`${API}/stats`);\n      \n      if (statsResponse.data.total_conversions === 0) {\n        // Generate sample data\n        await axios.post(`${API}/generate-data`);\n      }\n      \n      // Fetch all data\n      await Promise.all([\n        fetchStats(),\n        fetchAttributionData(selectedModel),\n        fetchComparisonData(),\n        fetchJourneys()\n      ]);\n      \n      setDataGenerated(true);\n      setLoading(false);\n    } catch (error) {\n      console.error(\"Error initializing data:\", error);\n      setLoading(false);\n    }\n  };\n\n  const fetchStats = async () => {\n    try {\n      const response = await axios.get(`${API}/stats`);\n      setStats(response.data);\n    } catch (error) {\n      console.error(\"Error fetching stats:\", error);\n    }\n  };\n\n  const fetchAttributionData = async (model) => {\n    try {\n      const response = await axios.get(`${API}/attribution/${model}`);\n      setAttributionData(response.data);\n    } catch (error) {\n      console.error(\"Error fetching attribution:\", error);\n    }\n  };\n\n  const fetchComparisonData = async () => {\n    try {\n      const response = await axios.get(`${API}/attribution/compare/all`);\n      setComparisonData(response.data);\n    } catch (error) {\n      console.error(\"Error fetching comparison:\", error);\n    }\n  };\n\n  const fetchJourneys = async () => {\n    try {\n      const response = await axios.get(`${API}/journeys`);\n      setJourneys(response.data);\n    } catch (error) {\n      console.error(\"Error fetching journeys:\", error);\n    }\n  };\n\n  const openJourneyDetail = async (journeyId) => {\n    try {\n      const response = await axios.get(`${API}/journeys/${journeyId}`);\n      setSelectedJourney(response.data);\n      setJourneyDetailModal(true);\n    } catch (error) {\n      console.error(\"Error fetching journey detail:\", error);\n    }\n  };\n\n  const getROASColor = (roas) => {\n    if (roas >= 3.0) return \"text-green-600\";\n    if (roas >= 1.5) return \"text-yellow-600\";\n    return \"text-red-600\";\n  };\n\n  const getEfficiencyStars = (roas) => {\n    if (roas >= 5.0) return \"★★★★★\";\n    if (roas >= 3.0) return \"★★★★☆\";\n    if (roas >= 2.0) return \"★★★☆☆\";\n    if (roas >= 1.0) return \"★★☆☆☆\";\n    return \"★☆☆☆☆\";\n  };\n\n  const formatCurrency = (value) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0\n    }).format(value);\n  };\n\n  const filteredJourneys = journeys.filter(journey => {\n    const matchesSearch = journey.customer_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         journey.journey_id.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesFilter = filterTouchpoints === \"all\" ||\n                         (filterTouchpoints === \"2-3\" && journey.touchpoint_count >= 2 && journey.touchpoint_count <= 3) ||\n                         (filterTouchpoints === \"4-5\" && journey.touchpoint_count >= 4 && journey.touchpoint_count <= 5) ||\n                         (filterTouchpoints === \"6+\" && journey.touchpoint_count >= 6);\n    \n    return matchesSearch && matchesFilter;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-blue-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-4 border-purple-600 mx-auto mb-4\"></div>\n          <p className=\"text-xl font-semibold text-slate-700\">Loading AttributionIQ...</p>\n          <p className=\"text-sm text-slate-500 mt-2\">Generating sample data and analytics</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50\">\n      {/* Header */}\n      <header className=\"bg-slate-900 text-white shadow-xl\" data-testid=\"main-header\">\n        <div className=\"container mx-auto px-6 py-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"bg-purple-600 p-2 rounded-lg\">\n                <Target className=\"h-8 w-8\" />\n              </div>\n              <div>\n                <h1 className=\"text-3xl font-bold\" data-testid=\"app-title\">AttributionIQ</h1>\n                <p className=\"text-sm text-slate-300\">Marketing Attribution Analytics Platform</p>\n              </div>\n            </div>\n            <Badge variant=\"secondary\" className=\"bg-purple-100 text-purple-800 px-3 py-1\" data-testid=\"demo-badge\">\n              Demo Mode\n            </Badge>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"container mx-auto px-6 py-8\">\n        {/* KPI Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8\" data-testid=\"kpi-section\">\n          <Card className=\"hover:shadow-lg transition-shadow duration-300\" data-testid=\"kpi-conversions\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm font-medium text-slate-600 flex items-center\">\n                <Users className=\"h-4 w-4 mr-2 text-blue-600\" />\n                Total Conversions\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-3xl font-bold text-slate-900\">{stats?.total_conversions || 0}</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"hover:shadow-lg transition-shadow duration-300\" data-testid=\"kpi-revenue\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm font-medium text-slate-600 flex items-center\">\n                <DollarSign className=\"h-4 w-4 mr-2 text-green-600\" />\n                Total Revenue\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-3xl font-bold text-slate-900\">{formatCurrency(stats?.total_revenue || 0)}</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"hover:shadow-lg transition-shadow duration-300\" data-testid=\"kpi-touchpoints\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm font-medium text-slate-600 flex items-center\">\n                <TrendingUp className=\"h-4 w-4 mr-2 text-purple-600\" />\n                Avg Touchpoints\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-3xl font-bold text-slate-900\">{stats?.avg_touchpoints || 0}</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"hover:shadow-lg transition-shadow duration-300\" data-testid=\"kpi-time\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm font-medium text-slate-600 flex items-center\">\n                <Clock className=\"h-4 w-4 mr-2 text-orange-600\" />\n                Avg Time to Convert\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-3xl font-bold text-slate-900\">{stats?.avg_time_to_conversion || 0} <span className=\"text-lg text-slate-500\">days</span></p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"hover:shadow-lg transition-shadow duration-300\" data-testid=\"kpi-spend\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm font-medium text-slate-600 flex items-center\">\n                <TrendingDown className=\"h-4 w-4 mr-2 text-red-600\" />\n                Marketing Spend\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-3xl font-bold text-slate-900\">{formatCurrency(stats?.total_marketing_spend || 0)}</p>\n            </CardContent>\n          </Card>\n\n          <Card className=\"hover:shadow-lg transition-shadow duration-300\" data-testid=\"kpi-roas\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm font-medium text-slate-600 flex items-center\">\n                <Target className=\"h-4 w-4 mr-2 text-indigo-600\" />\n                Overall ROAS\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <p className=\"text-3xl font-bold text-slate-900\">{stats?.overall_roas || 0}x</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Model Selector */}\n        <Card className=\"mb-8\" data-testid=\"model-selector-card\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center justify-between\">\n              <span>Attribution Model</span>\n              <TooltipProvider>\n                <TooltipUI>\n                  <TooltipTrigger asChild>\n                    <Button variant=\"ghost\" size=\"sm\">\n                      <Info className=\"h-4 w-4\" />\n                    </Button>\n                  </TooltipTrigger>\n                  <TooltipContent className=\"max-w-md\">\n                    <div className=\"space-y-2\">\n                      <p className=\"font-semibold\">{MODEL_INFO[selectedModel]?.title}</p>\n                      <p className=\"text-sm\">{MODEL_INFO[selectedModel]?.description}</p>\n                      <p className=\"text-sm text-green-600\"><strong>Use Case:</strong> {MODEL_INFO[selectedModel]?.useCase}</p>\n                      <p className=\"text-sm text-blue-600\"><strong>Pros:</strong> {MODEL_INFO[selectedModel]?.pros}</p>\n                      <p className=\"text-sm text-red-600\"><strong>Cons:</strong> {MODEL_INFO[selectedModel]?.cons}</p>\n                    </div>\n                  </TooltipContent>\n                </TooltipUI>\n              </TooltipProvider>\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex flex-wrap gap-3\" data-testid=\"model-buttons\">\n              {[\n                { id: \"first-touch\", label: \"First-Touch\" },\n                { id: \"last-touch\", label: \"Last-Touch\" },\n                { id: \"last-non-direct\", label: \"Last Non-Direct\" },\n                { id: \"linear\", label: \"Linear\" },\n                { id: \"time-decay\", label: \"Time Decay\" },\n                { id: \"u-shaped\", label: \"U-Shaped\" },\n                { id: \"w-shaped\", label: \"W-Shaped\" }\n              ].map((model) => (\n                <Button\n                  key={model.id}\n                  data-testid={`model-button-${model.id}`}\n                  variant={selectedModel === model.id ? \"default\" : \"outline\"}\n                  onClick={() => setSelectedModel(model.id)}\n                  className={selectedModel === model.id ? \"bg-purple-600 hover:bg-purple-700\" : \"\"}\n                >\n                  {model.label}\n                </Button>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Channel Performance Table */}\n        <Card className=\"mb-8\" data-testid=\"channel-performance-table\">\n          <CardHeader>\n            <CardTitle>Channel Performance - {MODEL_INFO[selectedModel]?.title}</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Channel</TableHead>\n                    <TableHead className=\"text-right\">Attributed Revenue</TableHead>\n                    <TableHead className=\"text-right\">Attribution %</TableHead>\n                    <TableHead className=\"text-right\">Touchpoints</TableHead>\n                    <TableHead className=\"text-right\">Cost</TableHead>\n                    <TableHead className=\"text-right\">ROAS</TableHead>\n                    <TableHead className=\"text-right\">Conversions</TableHead>\n                    <TableHead className=\"text-right\">Avg Position</TableHead>\n                    <TableHead className=\"text-right\">Efficiency</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {attributionData.map((item, index) => (\n                    <TableRow key={index} data-testid={`channel-row-${item.channel.toLowerCase().replace(/\\s+/g, '-')}`}>\n                      <TableCell className=\"font-medium\">\n                        <div className=\"flex items-center space-x-2\">\n                          <div \n                            className=\"w-3 h-3 rounded-full\" \n                            style={{ backgroundColor: CHANNEL_COLORS[item.channel] }}\n                          ></div>\n                          <span>{item.channel}</span>\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"text-right font-semibold\">{formatCurrency(item.attributed_revenue)}</TableCell>\n                      <TableCell className=\"text-right\">{item.attribution_percentage}%</TableCell>\n                      <TableCell className=\"text-right\">{item.touchpoint_count}</TableCell>\n                      <TableCell className=\"text-right\">{formatCurrency(item.cost)}</TableCell>\n                      <TableCell className={`text-right font-semibold ${getROASColor(item.roas)}`}>\n                        {item.roas > 0 ? `${item.roas}x` : '-'}\n                      </TableCell>\n                      <TableCell className=\"text-right\">{item.conversions_influenced}</TableCell>\n                      <TableCell className=\"text-right\">{item.avg_position}</TableCell>\n                      <TableCell className=\"text-right text-yellow-500\">{getEfficiencyStars(item.roas)}</TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Attribution Comparison Chart */}\n        <Card className=\"mb-8\" data-testid=\"comparison-chart-card\">\n          <CardHeader>\n            <CardTitle>Attribution Model Comparison</CardTitle>\n            <p className=\"text-sm text-slate-500\">Compare how different models attribute revenue across channels</p>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={500}>\n              <BarChart\n                data={comparisonData.map(model => ({\n                  name: model.model_name,\n                  ...model.channels.reduce((acc, channel) => {\n                    acc[channel.channel] = channel.attributed_revenue;\n                    return acc;\n                  }, {})\n                }))}\n                margin={{ top: 20, right: 30, left: 20, bottom: 5 }}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"name\" angle={-15} textAnchor=\"end\" height={80} />\n                <YAxis />\n                <Tooltip \n                  formatter={(value) => formatCurrency(value)}\n                  contentStyle={{ backgroundColor: 'rgba(255, 255, 255, 0.95)', borderRadius: '8px' }}\n                />\n                <Legend />\n                {Object.keys(CHANNEL_COLORS).map((channel) => (\n                  <Bar \n                    key={channel} \n                    dataKey={channel} \n                    stackId=\"a\" \n                    fill={CHANNEL_COLORS[channel]}\n                  />\n                ))}\n              </BarChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Journey Explorer */}\n        <Card data-testid=\"journey-explorer-card\">\n          <CardHeader>\n            <CardTitle>Customer Journey Explorer</CardTitle>\n            <div className=\"flex flex-col sm:flex-row gap-4 mt-4\">\n              <div className=\"flex-1\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400\" />\n                  <Input\n                    data-testid=\"journey-search-input\"\n                    placeholder=\"Search by name or journey ID...\"\n                    value={searchTerm}\n                    onChange={(e) => setSearchTerm(e.target.value)}\n                    className=\"pl-10\"\n                  />\n                </div>\n              </div>\n              <div className=\"w-full sm:w-48\">\n                <Select value={filterTouchpoints} onValueChange={setFilterTouchpoints}>\n                  <SelectTrigger data-testid=\"journey-filter-select\">\n                    <Filter className=\"h-4 w-4 mr-2\" />\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Touchpoints</SelectItem>\n                    <SelectItem value=\"2-3\">2-3 Touchpoints</SelectItem>\n                    <SelectItem value=\"4-5\">4-5 Touchpoints</SelectItem>\n                    <SelectItem value=\"6+\">6+ Touchpoints</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Journey ID</TableHead>\n                    <TableHead>Customer Name</TableHead>\n                    <TableHead>Journey Path</TableHead>\n                    <TableHead className=\"text-right\">Touchpoints</TableHead>\n                    <TableHead className=\"text-right\">Days to Convert</TableHead>\n                    <TableHead className=\"text-right\">Conversion Value</TableHead>\n                    <TableHead className=\"text-right\">Action</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {filteredJourneys.slice(0, 20).map((journey) => (\n                    <TableRow key={journey.journey_id} data-testid={`journey-row-${journey.journey_id}`}>\n                      <TableCell className=\"font-medium\">{journey.journey_id}</TableCell>\n                      <TableCell>{journey.customer_name}</TableCell>\n                      <TableCell>\n                        <div className=\"flex items-center space-x-1\">\n                          {journey.touchpoints.slice(0, 4).map((tp, idx) => (\n                            <Badge \n                              key={idx} \n                              variant=\"outline\" \n                              className=\"text-xs\"\n                              style={{ borderColor: CHANNEL_COLORS[tp.channel], color: CHANNEL_COLORS[tp.channel] }}\n                            >\n                              {tp.channel.split(' ')[0]}\n                            </Badge>\n                          ))}\n                          {journey.touchpoints.length > 4 && (\n                            <span className=\"text-xs text-slate-500\">+{journey.touchpoints.length - 4}</span>\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"text-right\">{journey.touchpoint_count}</TableCell>\n                      <TableCell className=\"text-right\">{journey.time_to_conversion}</TableCell>\n                      <TableCell className=\"text-right font-semibold\">{formatCurrency(journey.conversion_value)}</TableCell>\n                      <TableCell className=\"text-right\">\n                        <Button \n                          data-testid={`view-journey-${journey.journey_id}`}\n                          variant=\"ghost\" \n                          size=\"sm\"\n                          onClick={() => openJourneyDetail(journey.journey_id)}\n                        >\n                          View <ChevronRight className=\"h-4 w-4 ml-1\" />\n                        </Button>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n            {filteredJourneys.length === 0 && (\n              <div className=\"text-center py-8 text-slate-500\">\n                No journeys found matching your filters.\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Journey Detail Modal */}\n      <Dialog open={journeyDetailModal} onOpenChange={setJourneyDetailModal}>\n        <DialogContent className=\"max-w-4xl max-h-[80vh] overflow-y-auto\" data-testid=\"journey-detail-modal\">\n          {selectedJourney && (\n            <>\n              <DialogHeader>\n                <DialogTitle>Journey Details - {selectedJourney.journey_id}</DialogTitle>\n              </DialogHeader>\n              \n              <div className=\"space-y-6\">\n                {/* Customer Info */}\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  <div>\n                    <p className=\"text-sm text-slate-500\">Customer</p>\n                    <p className=\"font-semibold\">{selectedJourney.customer_name}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-slate-500\">Conversion Value</p>\n                    <p className=\"font-semibold text-green-600\">{formatCurrency(selectedJourney.conversion_value)}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-slate-500\">Touchpoints</p>\n                    <p className=\"font-semibold\">{selectedJourney.touchpoint_count}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-sm text-slate-500\">Time to Convert</p>\n                    <p className=\"font-semibold\">{selectedJourney.time_to_conversion} days</p>\n                  </div>\n                </div>\n\n                {/* Journey Timeline */}\n                <div>\n                  <h3 className=\"font-semibold mb-4\">Journey Timeline</h3>\n                  <div className=\"space-y-4\">\n                    {selectedJourney.touchpoints.map((tp, index) => (\n                      <div key={index} className=\"flex items-start space-x-4\">\n                        <div className=\"flex flex-col items-center\">\n                          <div \n                            className=\"w-8 h-8 rounded-full flex items-center justify-center text-white font-semibold\"\n                            style={{ backgroundColor: CHANNEL_COLORS[tp.channel] }}\n                          >\n                            {tp.sequence}\n                          </div>\n                          {index < selectedJourney.touchpoints.length - 1 && (\n                            <div className=\"w-0.5 h-12 bg-slate-300 my-1\"></div>\n                          )}\n                        </div>\n                        <div className=\"flex-1 pb-8\">\n                          <div className=\"flex items-center justify-between\">\n                            <div>\n                              <p className=\"font-semibold\">{tp.channel}</p>\n                              <p className=\"text-sm text-slate-500\">{tp.interaction_type}</p>\n                            </div>\n                            <div className=\"text-right\">\n                              <p className=\"text-sm font-medium\">\n                                {tp.days_before_conversion === 0 ? 'Conversion' : `${tp.days_before_conversion} days before`}\n                              </p>\n                              {tp.cost > 0 && (\n                                <p className=\"text-sm text-slate-500\">{formatCurrency(tp.cost)}</p>\n                              )}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}